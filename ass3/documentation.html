<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!--- makes website responsive -->
    <title>Webshop API Documentation</title>
  </head>
  <body>
    <h1>Webshop API Documentation</h1>
    <nav>
    <hr>
    <h2>Index</h2>
    	<ul>
    		<li><a href="#requests">HTTP Request Types</a></li>
    		<li><a href="#responses-code">Status Codes</a></li>
        <li><a href="#uris">Endpoint URIs</a></li>
        <li><a href="#spec-req-resp">Specific Requests and Responses</a></li>
        <li><a href="#error-objs">Error Objects</a></li>
    	</ul>
    </nav>
    <hr>
    <h2>Web API</h2>
    <p>Based on simple REST principles, our web API endpoints return JSON metadata about the previously added phones directly from our Data Catalogue.</p>
    <img src="https://blog.calameo.com/wp-content/uploads/2017/10/API-EN-1.png" alt="How the API works" width="50%">
    <p>Our web API also provides direct access to our database, being able to directly alter the table deleting or adding phones.</p>
    <p>The base address of our web API is <a href="http://localhost:3000/">"http://localhost:3000/"</a>. The API provides a set of endpoints, each with its own unique path. To access data through the Web API, such as the screensize or the brand of the phones.</p>
    <hr id="requests">
    <h3>HTTP Request Methods</h3>
  	<p>Our Web API is based on REST principles. Data resources are accessed via standard HTTPS requests in UTF-8 format to an API endpoint. Where possible, Web API uses appropriate HTTP verbs for each action:</p>
    <table>
        <tr>
          <th>Method</th>
          <th>Action</th>
        </tr>
        <tr>
          <td>GET</td>
          <td>Retrieves and reads data from server</td>
        </tr>
        <tr>
          <td>POST</td>
          <td>Creates data and submits it to the server</td>
        </tr>
          <tr>
            <td>PUT</td>
            <td>Updates and replaces data on the servers</td>
          </tr>
        <tr>
          <td>DELETE</td>
          <td>Removes data from server</td>
        </tr>
    </table>
    <hr id="responses-code">
    <h3>Responses Status Code</h3>
    <table>
        <tr>
          <th>Status Code</th>
          <th>Meaning</th>
        </tr>
        <tr>
          <td>200</td>
          <td>The request was succesful. The client can read the result of the request in the body and the headers of the response.</td>
        </tr>
        <tr>
          <td>201</td>
          <td>The request succeeded, and a new resource was created as a result.</td>
        </tr>
        <tr>
          <td>400</td>
          <td>The server could not understand the request due to invalid syntax.</td>
        </tr>
        <tr>
          <td>401</td>
          <td>Bad or expired token. This can happen if the user revoked a token or the access token has expired. You should re-authenticate the user.</td>
        </tr>
        <tr>
          <td>403</td>
          <td>The web browser does not have permission.</td>
        </tr>
        <tr>
          <td>404</td>
          <td>The server can not find the requested resource. In an API, this can also mean that the endpoint is valid but the resource itself does not exist.</td>
        </tr>
        <tr>
          <td>500</td>
          <td>The server has encountered a situation it does not know how to handle.</td>
        </tr>
    </table>
    <hr id="uris">
    <h3>Endpoint URIs</h3>
    <table>
      <tr>
        <th>Operation</th>
        <th>HTTP Method</th>
        <th>Endpoint URI</th>
      </tr>
      <tr>
        <td>Get a list of phones</td>
        <td>GET</td>
        <td>/api/phones</td>
      </tr>
      <tr>
        <td>Get a single phone by id</td>
        <td>GET</td>
        <td>/api/phones/:id</td>
      </tr>
      <tr>
        <td>Create new phone</td>
        <td>POST</td>
        <td>/api/insert</td>
      </tr>
      <tr>
        <td>Update phone by id</td>
        <td>PUT</td>
        <td>/api/update/:id</td>
      </tr>
      <tr>
        <td>Delete entity by id</td>
        <td>DELETE</td>
        <td>/api/remove/:id</td>
      </tr>
    </table>
    <hr id="spec-req-resp">
    <h3>Specific Requests and their Responses</h3>
    <p>Web API responses normally include a JSON object.<p>
      <h2>GET /api/phones</h2>
      <table>
        <tr>
          <p>Get All Phones Currently Stored</p>
        </tr>
        <tr>
          <h3><strong>Results</strong></h3>
          <p><strong>Return Type: </strong>Array of Phones</p>
          <p><strong>Content Type: </strong>Application/JSON</p>
          <p style="font-family: monospace"><pre>
            {
              "rows": [
                  {
                  "id": 1,
                  "brand": "Fairphone",
                  "model": "FP3",
                  "os": "Android",
                  "image": "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Fairphone_3_modules_on_display.jpg/320px-Fairphone_3_modules_on_display.jpg",
                  "screensize": 5.65
                  }
              ]
            }
</pre></p>
        </tr>
        <tr>
          <h3><strong>Response Codes</strong></h3>
          <p>400, 200</p>
        </tr>
      </table>
      <h2>GET /api/phones/:id</h2>
      <table>
        <tr>
          <p>Get Specific Phone Currently Stored</p>
        </tr>
        <tr>
          <h3><strong>Results</strong></h3>
          <p><strong>Return Type: </strong>Array of Phone</p>
          <p><strong>Content Type: </strong>Application/JSON</p>
          <p style="font-family: monospace"><pre>
            [
                {
                    "id": 2,
                    "brand": "Apple",
                    "model": "IPhone 13",
                    "os": "IOS",
                    "image": "iphone-image",
                    "screensize": 6
                }
            ]
</pre></p>
        </tr>
        <tr>
          <h3><strong>Response Codes</strong></h3>
          <p>400, 200</p>
        </tr>
      </table>
      <h2>POST /api/insert</h2>
      <table>
        <tr>
          <p>Insert Phone into DataBase</p>
        </tr>
        <tr>
          <h3><strong>Results</strong></h3>
          <p><strong>Return Type: </strong>integer of Phone ID</p>
          <p><strong>Content Type: </strong>Application/JSON</p>
          <p>When given: <pre style="font-family: monospace">
            {"brand":"Apple","model":"IPhone 13","os":"IOS","image":"iphone-image","screensize":"6"}</pre>
            Response is: <pre style="font-family: monospace">
            {
              "phone_id": 2
            }
</pre></p>
        </tr>
        <tr>
          <h3><strong>Response Codes</strong></h3>
          <p>400, 201</p>
        </tr>
      </table>
      <h2>PUT /api/update/:id</h4>
        <table>
          <tr>
            <p>Update Specific Phone Currently Stored</p>
          </tr>
          <tr>
            <h3><strong>Results</strong></h3>
            <p><strong>Return Type: </strong>integer of Phone ID</p>
            <p><strong>Content Type: </strong>Application/JSON</p>
            <p>When given: <pre style="font-family: monospace">
              {"brand":"Apple","model":"IPhone 13 mini","os":"IOS","image":"iphone-image","screensize":"6"}</pre>
              Response is: <pre style="font-family: monospace">
              {
                "updatedID": 1
              }
  </pre></p>
          </tr>
          <tr>
            <h3><strong>Response Codes</strong></h3>
            <p>400, 201</p>
          </tr>
        </table>
      <h2>DELETE /api/remove/:id</h2>
      <table>
        <tr>
          <p>Delete Specific Phone Currently Stored</p>
        </tr>
        <tr>
          <h3><strong>Results</strong></h3>
          <p><strong>Return Type: </strong>integer of Phone ID</p>
          <p><strong>Content Type: </strong>Application/JSON</p>
          <p style="font-family: monospace"><pre>
            {
              "deletedID": 1
            }
</pre></p>
        </tr>
        <tr>
          <h3><strong>Response Codes</strong></h3>
          <p>400, 200</p>
        </tr>
      </table>
    <hr id="error-objs">
    <h3><strong>Error Objects</strong></h3>
    <p>Apart from the response code, unsuccessful responses return a JSON object containing the following information:<p>
      <table>
        <tr>
          <th>Key</th>
          <th>Value Type</th>
          <th>Value description</th>
        </tr>
        <tr>
          <td>status</td>
          <td>integer</td>
          <td>The HTTP status code that is also returned in the response header. For further information, see <a href="#responses-code">Response Status Codes</a></td>
        </tr>
        <tr>
          <td>message</td>
          <td>string</td>
          <td>A short description of the cause of the error.</td>
        </tr>
      </table>
    <p>Here is an example of an error that occurs when trying to retrieve a phone which does not exist</p>
    <p style="font-family: monospace"><pre>
      HTTP/1.1 400 Bad Request
      {
          "error": {
              "status": 400,
              "message": "invalid id"
          }
      }
    </pre></p>
<!---    		<div id="table-ex">
    			<p><code>&lt;table&gt;</p>
    			<p>&lt;caption&gt;Table caption&lt;/caption&gt;</p>
    			<p>&lt;tr&gt;</p>
    			<p>&lt;th&gt;First heading&lt;/th&gt;</p>
    			<p>&lt;th colspan=”2”&gt;Second heading&lt;/th&gt;</p>
    			<p>&lt;/tr&gt;</p>
    			<p>&lt;tr&gt;</p>
    			<p>&lt;td&gt;Cell 1&lt;/td&gt;</p>
    			<p>&lt;td&gt;Cell 2&lt;/td&gt;</p>
    			<p>&lt;td&gt;Cell 3&lt;/td&gt;</p>
    			<p>&lt;/tr&gt;</p>
    			<p>&lt;/table&gt;</code></p>
    		</div>-->
  </body>
</html>
